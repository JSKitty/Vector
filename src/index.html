<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <link id="theme" rel="stylesheet" href="/themes/vector/dark.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vector</title>
    <script src="/main.js" defer></script>
    <script src="/js/settings.js" defer></script>
    <script src="/js/misc.js" defer></script>
    <script src="/js/db.js" defer></script>
    <script src="/js/markdown.js" defer></script>
    <script src="/js/emoji.js" defer></script>
    <script src="/js/voice.js" defer></script>
  </head>

  <body>
    <div id="popup-container" class="popup-container">
      <center id="popup" class="popup" style="display: none;">
        <h2 id="popupTitle"></h2>
        <p id="popupSubtext"><br><i style="opacity: 0.5"></i></p>

        <input id="popupInput">
        <hr class="divider">

        <button id="popupConfirm">Confirm</button><button id="popupCancel" style="opacity: 0.8;margin-left: 10px;">Cancel</button>
      </center>
    </div>

    <main class="container">
      <button id="settings-btn" class="settings-btn" style="display: none;"><span class="icon icon-settings"></span></button>
      <!-- The Global emoji picker popup -->
      <div class="emoji-picker" tabindex="-1">
        <input id="emoji-search-input" placeholder="Search...">
        <div id="emoji-results"></div>
      </div>

      <div id="chats" class="chats">
        <div id="account" class="account"></div>
        <div id="sync-status-container" style="margin-bottom: 15px; display: none;">
          <p id="sync-status" class="text-gradient"></p>
        </div>
        <div id="chat-list">
          
        </div>
      </div>

      <div id="chat" class="chat" style="display: none;">
        <h4 class="back-btn" id="chat-back-btn">Back</h4>
        <h3 id="chat-contact"></h3>
        <span class="cutoff" id="chat-contact-status"></span>
        <div id="chat-messages" class="chat-messages">

        </div>
        <button id="chat-scroll-return" class="corner-float" style="border-radius: 100%; height: 45px; width: 45px;"><span class="icon icon-chevron-down"></span></button>

        <div class="row input-box" id="chat-box">
          <div class="row chat-input-container">
            <button id="chat-input-file"><span class="icon icon-add-file"></span></button>
            <button id="chat-input-cancel" style="display: none;"><span class="icon icon-cancel"></span></button>
            <textarea id="chat-input" placeholder="Enter message..."></textarea>
            <button id="chat-input-emoji"><span class="icon icon-smile-face"></span></button>
            <button id="chat-input-voice"><span class="icon icon-mic-on"></span></button>
          </div>
        </div>
      </div>

      <div id="chat-new" style="display: none;">
        <h4 class="back-btn" id="chat-new-back-btn">Back</h4>
        <center>
          <h2 style="margin-top: 50px; margin-bottom: 5px;">Share your Contact</h2>
          <span style="opacity: 0.75;">Your 'npub' key can be shared with anyone to give them a way of messaging you.</span>
        </center>
        <br>
        <div style="padding-left: 20px; padding-right: 20px;">
          <code class="text-gradient" style="line-break: anywhere; font-size: 14px;" id="share-npub"></code>
        </div>
        <hr class="divider" style="margin-top: 55px; margin-bottom: 50px;">
        <center>
          <h2 style="margin-bottom: 5px;">Chat with someone</h2>
          <span style="opacity: 0.75;">Use your friend's 'npub' to begin a conversation with them.</span>
        </center>
        <input style="margin-top: 15px;" id="chat-new-input" placeholder="Enter npub..." />
        <button style="margin-top: 10px;" id="chat-new-btn">Start Chat</button>
      </div>

      <div id="settings" style="display: none;">
        <h4 class="back-btn" id="settings-back-btn">Back</h4>
        <hr style="margin-top: 55px; margin-bottom: 5px;" class="divider">
        <h2>Choose your Theme</h2>
        <select id="theme-select">
          <option value="vector">Vector</option>
          <option value="chatstr">Chatstr</option>
        </select>
      </div>

      <div id="login-form">
        <h1 class="intro-anim" style="margin-bottom: 0; font-size: 50px;">Vector</h1>
        <span class="intro-anim" id="version"></span>
        <div id="login-import">
          <h3 class="text-gradient" style="margin-top: 100px;">Private & Encrypted Messenger</h3>
          <div class="row input-box" style="position: absolute; bottom: 0px; width: 100%; height: 52px;">
            <input type="password" style="width: 100%; margin-left: 10px; margin-top: 5px; margin-bottom: 5px; background-color: black;" id="login-input" placeholder="Enter nsec or Seed Phrase..." />
            <button style="margin-right: 10px; margin-top: 5px; margin-bottom: 5px;" id="login-btn">Login</button>
          </div>
        </div>
        <div id="login-encrypt" style="position: absolute; width: 100%; bottom: 0px; display: none;">
          <div style="display: inline-flex;">
            <img src="./icons/lock.svg" style="width: 35px; height: 35px;">
            <h3 id="login-encrypt-title" style="margin-bottom: 25px; margin-top: 10px; margin-left: 8px;">Choose an Encryption Pin</h3>
          </div>
          <div id="login-encrypt-pins" class="row pin-row input-box">
            <input type="password" inputmode="numeric" maxlength="1" id="pin-0">
            <input type="password" inputmode="numeric" maxlength="1" id="pin-1">
            <input type="password" inputmode="numeric" maxlength="1" id="pin-2">
            <input type="password" inputmode="numeric" maxlength="1" id="pin-3">
            <input type="password" inputmode="numeric" maxlength="1" id="pin-4">
            <input type="password" inputmode="numeric" maxlength="1" id="pin-5">
          </div>
        </div>
      </div>

    </main>
  </body>
</html>
